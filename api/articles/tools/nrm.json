{"title":"nrm 管理 npm 源","uid":"9f8dfcc48086625af0ae4278580b5a7d","slug":"tools/nrm","date":"2023-06-18T05:56:34.104Z","updated":"2023-06-18T12:57:06.709Z","comments":true,"path":"api/articles/tools/nrm.json","keywords":null,"cover":"../../images/tools/nrm.png","content":"<p><strong>nrm</strong> (npm registry manager)是 <strong>npm</strong> 的镜像源管理工具，有时候国外资源太慢或访问不了，使用这个就可以快速地在 <strong>npm</strong> 源间切换。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><strong>npm</strong> 包主要是根据 <strong>node</strong> 安装的版本来确定使用的版本，而 <strong>node</strong> 版本也会因为项目的使用而有所限定，所以也会有一个管理工具来管理相应的包，可参考<a href=\"/post/tools/n\">n管理node版本</a></p></blockquote>\n<h1 id=\"全局安装\"><a href=\"#全局安装\" class=\"headerlink\" title=\"全局安装\"></a>全局安装</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i -g nrm</code></pre>\n\n<h1 id=\"查看是否安装成功\"><a href=\"#查看是否安装成功\" class=\"headerlink\" title=\"查看是否安装成功\"></a>查看是否安装成功</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">nrm --version</code></pre>\n\n<h1 id=\"查看可用的npm源\"><a href=\"#查看可用的npm源\" class=\"headerlink\" title=\"查看可用的npm源\"></a>查看可用的npm源</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm ls</code></pre>\n\n<p>结果：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm ---------- https:&#x2F;&#x2F;registry.npmjs.org&#x2F;\nyarn --------- https:&#x2F;&#x2F;registry.yarnpkg.com&#x2F;\ntencent ------ https:&#x2F;&#x2F;mirrors.cloud.tencent.com&#x2F;npm&#x2F;\ncnpm --------- https:&#x2F;&#x2F;r.cnpmjs.org&#x2F;\ntaobao ------- https:&#x2F;&#x2F;registry.npmmirror.com&#x2F;\nnpmMirror ---- https:&#x2F;&#x2F;skimdb.npmjs.com&#x2F;registry&#x2F;</code></pre>\n\n<h1 id=\"切换使用源\"><a href=\"#切换使用源\" class=\"headerlink\" title=\"切换使用源\"></a>切换使用源</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">nrm use taobao</code></pre>\n<h1 id=\"查看-npm-源地址\"><a href=\"#查看-npm-源地址\" class=\"headerlink\" title=\"查看 npm 源地址\"></a>查看 npm 源地址</h1><p><code>npm config list</code> 或 <code>npm config get registry</code>，这个也可以查看当前源是否切换成功。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">% npm config list\n; cli configs\nmetrics-registry &#x3D; &quot;https:&#x2F;&#x2F;registry.npmmirror.com&#x2F;&quot;\nscope &#x3D; &quot;&quot;\nuser-agent &#x3D; &quot;npm&#x2F;6.14.13 node&#x2F;v14.17.0 darwin x64&quot;\n\n; userconfig &#x2F;Users&#x2F;linfushan&#x2F;.npmrc\n@bit:registry &#x3D; &quot;https:&#x2F;&#x2F;node.bit.dev&quot;\nhome &#x3D; &quot;https:&#x2F;&#x2F;npm.taobao.org&quot;\nregistry &#x3D; &quot;https:&#x2F;&#x2F;registry.npmmirror.com&#x2F;&quot;\nsass_binary_site &#x3D; &quot;https:&#x2F;&#x2F;npm.taobao.org&#x2F;mirrors&#x2F;node-sass&quot;\n\n; node bin location &#x3D; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;node\n; cwd &#x3D; &#x2F;Users&#x2F;hexo&#x2F;linfushan\n; HOME &#x3D; &#x2F;Users&#x2F;linfushan\n; &quot;npm config ls -l&quot; to show all defaults.\n\n% npm config get registry\nhttps:&#x2F;&#x2F;registry.npmmirror.com&#x2F;</code></pre>\n\n<h1 id=\"添加使用源\"><a href=\"#添加使用源\" class=\"headerlink\" title=\"添加使用源\"></a>添加使用源</h1><p>如果没有想要的 <strong>npm源</strong>，那么可以使用一下的方法自行添加。</p>\n<p><code>nrm add [registry] [url]</code></p>\n<p><strong>registry</strong>：源名称（自己定义）<br><strong>url</strong>：源地址</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nrm add public http:&#x2F;&#x2F;192.168.1.2:8888&#x2F;npm-public</code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>以下 <code>[registry]</code> 没有特殊说明，即都为 <strong>源名称</strong></p></blockquote>\n<h1 id=\"测试使用源的速度\"><a href=\"#测试使用源的速度\" class=\"headerlink\" title=\"测试使用源的速度\"></a>测试使用源的速度</h1><p><code>nrm test [registry]</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">% nrm test taobao\n\n* taobao --- 476ms</code></pre>\n\n<h1 id=\"删除源\"><a href=\"#删除源\" class=\"headerlink\" title=\"删除源\"></a>删除源</h1><p><code>nrm del [registry]</code></p>\n<h1 id=\"修改源地址\"><a href=\"#修改源地址\" class=\"headerlink\" title=\"修改源地址\"></a>修改源地址</h1><p><code>nrm set registry [url]</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm set registry https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;</code></pre>\n\n<h1 id=\"使用特定源安装包\"><a href=\"#使用特定源安装包\" class=\"headerlink\" title=\"使用特定源安装包\"></a>使用特定源安装包</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i logo --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</code></pre>\n\n<h1 id=\"查看源的主页\"><a href=\"#查看源的主页\" class=\"headerlink\" title=\"查看源的主页\"></a>查看源的主页</h1><p><code>nrm home [registry]</code>，使用该命令会跳到 <strong>.npmrc</strong> 文件中配置的 <strong>home</strong> 的主页，在默认浏览器打开。</p>\n","feature":true,"text":"nrm (npm registry manager)是 npm 的镜像源管理工具，有时候国外资源太慢或访问不了，使用这个就可以快速地在 npm 源间切换。 npm 包主要是根据 node 安装的版本来确定使用的版本，而 node 版本也会因为项目的使用而有所限定，所以也会有一个管...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Node","slug":"Node","count":2,"path":"api/categories/Node.json"}],"tags":[{"name":"node","slug":"node","count":2,"path":"api/tags/node.json"},{"name":"nrm","slug":"nrm","count":1,"path":"api/tags/nrm.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">全局安装</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F\"><span class=\"toc-text\">查看是否安装成功</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%8F%AF%E7%94%A8%E7%9A%84npm%E6%BA%90\"><span class=\"toc-text\">查看可用的npm源</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%88%87%E6%8D%A2%E4%BD%BF%E7%94%A8%E6%BA%90\"><span class=\"toc-text\">切换使用源</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B-npm-%E6%BA%90%E5%9C%B0%E5%9D%80\"><span class=\"toc-text\">查看 npm 源地址</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0%E4%BD%BF%E7%94%A8%E6%BA%90\"><span class=\"toc-text\">添加使用源</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95%E4%BD%BF%E7%94%A8%E6%BA%90%E7%9A%84%E9%80%9F%E5%BA%A6\"><span class=\"toc-text\">测试使用源的速度</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%BA%90\"><span class=\"toc-text\">删除源</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E6%BA%90%E5%9C%B0%E5%9D%80\"><span class=\"toc-text\">修改源地址</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E7%89%B9%E5%AE%9A%E6%BA%90%E5%AE%89%E8%A3%85%E5%8C%85\"><span class=\"toc-text\">使用特定源安装包</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%BA%90%E7%9A%84%E4%B8%BB%E9%A1%B5\"><span class=\"toc-text\">查看源的主页</span></a></li></ol>","author":{"name":"Lim Forson","slug":"lim-forson","avatar":"/images/avatar/avatar.png","link":"/","description":"Stay hungry, Stay foolish.","socials":{"github":"https://github.com/linfushan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/2151406113","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"n 管理 node 版本","uid":"8daf5819f3cca3bfa30bc434c8ba2be7","slug":"tools/n","date":"2023-06-18T04:58:39.489Z","updated":"2023-06-18T12:56:45.403Z","comments":true,"path":"api/articles/tools/n.json","keywords":null,"cover":"../../images/tools/n.png","text":"在前端开发的过程中，由于项目的不同和公司设定项目方案的不同，常常会用到不同的 Node 版本，且各个版本的相容程度很差，如果没有版本的管理就需要卸载安装不同版本的Node，这就回很麻烦，所以 Node的版本很管理很重要。 这里给大家介绍一个好用的 Node 版本管理套件 n 支持...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"Node","slug":"Node","count":2,"path":"api/categories/Node.json"}],"tags":[{"name":"node","slug":"node","count":2,"path":"api/tags/node.json"},{"name":"n","slug":"n","count":1,"path":"api/tags/n.json"}],"author":{"name":"Lim Forson","slug":"lim-forson","avatar":"/images/avatar/avatar.png","link":"/","description":"Stay hungry, Stay foolish.","socials":{"github":"https://github.com/linfushan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/2151406113","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}